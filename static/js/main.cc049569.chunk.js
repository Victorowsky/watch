(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{103:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(54),i=n.n(r),o=(n(64),n(6)),u=n(1),l=n(55),s=n.n(l),m=(n(95),n(57)),d=n(22),f=n.n(d),p=function(){var e=Object(a.useContext)(E),t=e.admin,n=e.setAdmin,r=e.setCurrentVideoLink,i=e.setVideoQueue,u=Object(a.useState)(),l=Object(o.a)(u,2),s=l[0],d=l[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){return n((function(e){return!e}))},style:t?{backgroundColor:"#06d6a0"}:{}},"ADMIN"),t&&c.a.createElement("form",null,c.a.createElement("input",{type:"text",value:s,onChange:function(e){t&&d(e.target.value)}}),c.a.createElement("button",{style:{display:"none"},onClick:function(e){e.preventDefault(),f.a.canPlay(s)&&(r(s),i((function(e){return[].concat(Object(m.a)(e),[s])}))),d("")},type:"submit"})))},b=function(){var e=Object(a.useContext)(E),t=e.socket,n=e.admin,r=e.setAdmin,i=e.history,u=Object(a.useState)(""),l=Object(o.a)(u,2),s=l[0],m=l[1];return t.on("handleLoginAnswer",(function(e){e.success&&(n||r(!0),i.push("/"))})),c.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}},c.a.createElement("form",null,c.a.createElement("input",{type:"text",value:s,onChange:function(e){m(e.target.value)}}),c.a.createElement("button",{onClick:function(e){e.preventDefault(),t.emit("handleLogin",{password:s})},type:"submit",style:{display:"none"}})))},v=(n(103),function(){var e=Object(a.useContext)(E),t=e.admin,n=e.setCurrentVideoLink,r=e.currentVideoLink,i=e.socket,u=e.setVideoQueue,l=e.onlineUsers,s=Object(a.useState)(!1),m=Object(o.a)(s,2),d=m[0],p=m[1],b=Object(a.useRef)();Object(a.useEffect)((function(){t&&setInterval((function(){i.emit("currentSeconds",b.current.getCurrentTime())}),3e3)}),[t]),Object(a.useEffect)((function(){t&&i.emit("videoChange",r)}),[r]),Object(a.useEffect)((function(){r||i.emit("getAllData")}),[]),i.on("getAllDataAnswer",(function(e){var t=e.currentVideoLinkServer,a=e.isPlayingServer,c=e.videoQueueServer;n(t),p(a),u(c)})),i.on("currentSecondsAnswer",(function(e){if(b.current){var t=b.current.getCurrentTime();t<e+2&&t>e-2||b.current.seekTo(e,"seconds")}})),i.on("videoChangeAnswer",(function(e){t||n(e)}));i.on("isPlayingSocketAnswer",(function(e){p(e)})),i.on("currentSeconds",(function(e){var t=e.time;b.current&&b.current.seekTo(t,"seconds")}));return c.a.createElement("div",{className:"videoAndChat"},c.a.createElement("div",{className:"playerAndChat"},c.a.createElement("div",{className:"player-wrapper"},c.a.createElement(f.a,{ref:b,onPlay:function(){t&&(p(!0),i.emit("isPlaying",{isPlaying:!0}))},onPause:function(){t&&(p(!1),i.emit("isPlaying",{isPlaying:!1}))},onEnded:function(){u((function(e){return e.filter((function(e){return!e.includes(r)}))}))},playing:d,className:"react-player",url:r,width:"100%",height:"100%",controls:!0,volume:.1})),c.a.createElement("div",{className:"twitchChat"},c.a.createElement("span",{className:"onlineUsers"},l," ONLINE"),c.a.createElement("iframe",{style:{border:"2px solid #121212"},title:"TwitchChat",id:"chat_embed",src:"https://www.twitch.tv/embed/".concat("demonzz1","/chat?darkpopout&parent=").concat("victorowsky.github.io"),height:"100%",width:"350"}))))}),E=c.a.createContext(),h=s()("https://boiling-bastion-80662.herokuapp.com/"),g=function(){var e=Object(u.f)(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],i=n[1],l=Object(a.useState)(""),s=Object(o.a)(l,2),m=s[0],d=s[1],f=Object(a.useState)([]),g=Object(o.a)(f,2),y=g[0],O=g[1],j=Object(a.useState)(0),k=Object(o.a)(j,2),C=k[0],w=k[1];return Object(a.useEffect)((function(){}),[]),h.on("onlineUsers",(function(e){w(e)})),c.a.createElement(c.a.Fragment,null,c.a.createElement(E.Provider,{value:{admin:r,setAdmin:i,socket:h,currentVideoLink:m,setCurrentVideoLink:d,videoQueue:y,setVideoQueue:O,history:e,onlineUsers:C}},c.a.createElement("div",{className:"app"},c.a.createElement(u.c,null,c.a.createElement(u.a,{path:"/",exact:!0},c.a.createElement(v,null),r&&c.a.createElement("div",{className:"bottomDiv"},c.a.createElement(p,null))),c.a.createElement(u.a,{path:"/admin"},c.a.createElement(b,null))))))},y=n(31);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y.a,null,c.a.createElement(g,null))),document.getElementById("root"))},59:function(e,t,n){e.exports=n(106)},64:function(e,t,n){},95:function(e,t,n){}},[[59,13,14]]]);
//# sourceMappingURL=main.cc049569.chunk.js.map