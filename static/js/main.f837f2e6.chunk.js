(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(51),i=n.n(r),l=(n(61),n(10)),o=n(1),u=n(52),s=n.n(u),m=(n(92),function(){var e=Object(a.useContext)(h),t=e.admin,n=e.setAdmin,r=e.setCurrentVideoLink,i=Object(a.useState)(),o=Object(l.a)(i,2),u=o[0],s=o[1],m=Object(a.useState)(),d=Object(l.a)(m,2);d[0],d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){return n((function(e){return!e}))},style:t?{backgroundColor:"#06d6a0"}:{}},"ADMIN"),t&&c.a.createElement("form",null,c.a.createElement("input",{type:"text",value:u,onChange:function(e){t&&s(e.target.value)}}),c.a.createElement("button",{style:{display:"none"},onClick:function(e){e.preventDefault(),r(u),s("")},type:"submit"})))}),d=n(53),f=n.n(d),p=function(){var e=Object(a.useContext)(h),t=e.admin,n=e.setCurrentVideoLink,r=e.currentVideoLink,i=e.socket,o=Object(a.useState)(!1),u=Object(l.a)(o,2),s=u[0],m=u[1],d=Object(a.useRef)();Object(a.useEffect)((function(){t&&setInterval((function(){i.emit("currentSeconds",d.current.getCurrentTime())}),3e3)}),[t,i]),Object(a.useEffect)((function(){t&&i.emit("videoChange",r)}),[r,i,t]),Object(a.useEffect)((function(){r||i.emit("getAllData")}),[]),i.on("getAllDataAnswer",(function(e){var t=e.currentVideoLinkServer,a=e.isPlayingServer;n(t),m(a)})),i.on("currentSecondsAnswer",(function(e){if(d.current){var t=d.current.getCurrentTime();t<e+2&&t>e-2||d.current.seekTo(e,"seconds")}})),i.on("videoChangeAnswer",(function(e){t||n(e)}));return i.on("isPlayingSocketAnswer",(function(e){m(e)})),i.on("currentSeconds",(function(e){var t=e.time;d.current&&d.current.seekTo(t,"seconds")})),c.a.createElement("div",{className:"videoAndChat"},c.a.createElement("div",{className:"playerAndChat"},c.a.createElement("div",{className:"player-wrapper"},c.a.createElement(f.a,{ref:d,onPlay:function(){t&&(m(!0),i.emit("isPlaying",{isPlaying:!0}))},onPause:function(){t&&(m(!1),i.emit("isPlaying",{isPlaying:!1}))},playing:s,className:"react-player",url:r,width:"100%",height:"100%",controls:!0,volume:.1})),c.a.createElement("div",{className:"twitchChat"},c.a.createElement("iframe",{style:{border:"2px solid #121212"},title:"TwitchChat",id:"chat_embed",src:"https://www.twitch.tv/embed/demonzz1/chat?parent=".concat("localhost","&darkpopout"),height:"100%",width:"350"}))))},h=c.a.createContext(),b=function(){var e=Object(o.f)(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],i=n[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),f=d[0],b=d[1],v=s()("http://localhost:3001/"),E=function(){r||i(!0),e.push("/")};return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.Provider,{value:{admin:r,setAdmin:i,currentVideoLink:f,setCurrentVideoLink:b,socket:v}},c.a.createElement("div",{className:"app"},c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/",exact:!0},c.a.createElement(p,null),r&&c.a.createElement("div",{className:"bottomDiv"},c.a.createElement(m,null))),c.a.createElement(o.a,{path:"/admin"},E)))))},v=n(28);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v.a,null,c.a.createElement(b,null))),document.getElementById("root"))},56:function(e,t,n){e.exports=n(102)},61:function(e,t,n){},92:function(e,t,n){}},[[56,13,14]]]);
//# sourceMappingURL=main.f837f2e6.chunk.js.map